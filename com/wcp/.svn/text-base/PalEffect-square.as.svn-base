package com.pal {	import flash.events.Event;	import flash.events.MouseEvent;	import flash.events.EventDispatcher;	import com.pal.EffectEvent;	public class PalEffect extends EventDispatcher {		public function PalEffect(_effectName:String=null) {			library.strobe = new Object();			library.strobe.name = "strobe";			library.strobe.speed = 1;			library.strobe.trail = 0;			library.strobe.loops = 0;			a = new Array();b = new Array();			for(i=0;i<64;i++) a.push(i);			library.strobe.sequence = new Array(a,b,a,b,a,b,a);			library.pulse = new Object();			library.pulse.name = "puls";			library.pulse.speed = 2;			library.pulse.trail = 0;			library.pulse.loops = 0;			library.pulse.sequence = new Array();			var k = 10;			var v = 100/k;			for(j=1;j<=k;j++) {				a = new Array();b = new Array();				for(i=0;i<64;i++) {					a.push(new Array(""+i,(j*v)));				}				library.pulse.sequence.push(a);			}			k*=2;			v/=2;			for(j=1;j<=k;j++) {				a = new Array();b = new Array();				for(i=0;i<64;i++) {					a.push(new Array(""+i,100-(j*v)));				}				library.pulse.sequence.push(a);			}			library.wipe = new Object();			library.wipe.name = "wipe";			library.wipe.speed = 1;			library.wipe.trail = 2;			library.wipe.loops = 0;			library.wipe.sequence = new Array(				new Array(0,8,16,24,32,40,48,56)				,new Array(1,9,17,25,33,41,49,57)				,new Array(2,10,18,26,34,42,50,58)				,new Array(3,11,19,27,35,43,51,59)				,new Array(4,12,20,28,36,44,52,60)				,new Array(5,13,21,29,37,45,53,61)				,new Array(6,14,22,30,38,46,54,62)				,new Array(7,15,23,31,39,47,55,63)			);					library.stars = new Object();			library.stars.name = "stars";			library.stars.speed = 4;			library.stars.trail = 4;			library.stars.loops = 0;			var shooters = new Array(				new Array(					new Array("0")					,new Array("9")					,new Array("18")					,new Array("27")					,new Array("36")					,new Array("45")					,new Array("54")					,new Array("63")				),new Array(					new Array("7")					,new Array("14")					,new Array("21")					,new Array("28")					,new Array("35")					,new Array("42")					,new Array("49")					,new Array("56")				),new Array(					new Array("4")					,new Array("12")					,new Array("20")					,new Array("28")					,new Array("36")					,new Array("44")					,new Array("52")					,new Array("60")				),new Array(					new Array("32")					,new Array("33")					,new Array("34")					,new Array("35")					,new Array("36")					,new Array("37")					,new Array("38")					,new Array("39")				)			);			library.stars.sequence = shooters[Math.floor(Math.random()*shooters.length)];			library.warp = new Object();			library.warp.name = "warp";			library.warp.speed = 0.5;			library.warp.trail = 1;			library.warp.loops = 0;			library.warp.sequence = new Array(				new Array(27,35,36)				,new Array(18,42,45)				,new Array(9,49,54)				,new Array(0,56,63)				,new Array()				,new Array(28,36,35)				,new Array(20,45,34)				,new Array(13,53,33)				,new Array(5,62,32)				,new Array()				,new Array(27,28,36)				,new Array(18,21,44)				,new Array(17,13,53)				,new Array(8,6,61)			);			library.rings = new Object();			library.rings.name = "rings";			library.rings.speed = 1;			library.rings.trail = 0;			library.rings.loops = 4;			library.rings.sequence = new Array(				new Array(27,28,35,36)				,new Array(18,19,20,21,26,34,42,29,37,45,43,44)				,new Array(9,10,11,12,13,14,22,30,38,46,54,53,52,50,51,49,41,33,25,17)				,new Array(0,1,2,3,4,5,6,7,15,23,31,39,47,55,63,62,61,60,59,58,57,56,48,40,32,24,16,8)//				,new Array(9,10,11,12,13,14,22,30,38,46,54,53,52,50,51,49,41,33,25,17)//				,new Array(18,19,20,21,26,34,42,29,37,45,43,44)//				,new Array(27,28,35,36)//				,new Array()			);			library.clock = new Object();			library.clock.name = "clock";			library.clock.speed = 1;			library.clock.trail = 0;			library.clock.loops = 0;			library.clock.sequence = new Array(				new Array(28,20,12,4)				,new Array(28,21,13,6)				,new Array(28,29,22,23)				,new Array(36,37,38,39)				,new Array(36,45,46,55)				,new Array(36,44,53,61)				,new Array(35,43,51,59)				,new Array(35,42,50,57)				,new Array(35,34,41,40)				,new Array(27,26,25,24)				,new Array(27,18,17,8)				,new Array(27,19,10,2)			);			library.twinkle = new Object();			library.twinkle.name = "twinkle";			library.twinkle.speed = 0.25;			library.twinkle.trail = 0;			library.twinkle.loops = 0;			library.twinkle.sequence = new Array();			for(i=0;i<20;i++) {				a = new Array();				for(j=0;j<8;j++) {					k = (j*8)+Math.floor(Math.random()*8);					v = 30+Math.floor(Math.random()*50);					a.push(new Array(k,v));				}				library.twinkle.sequence.push(a);			}			if(_effectName!=null){				trace("new "+_effectName);				this.effectName = _effectName;				this.sequence = this.library[_effectName].sequence;				this.speed = this.library[_effectName].speed;				this.trail = this.library[_effectName].trail;				this.loops = this.library[_effectName].loops;			}			for(i in library) {				effects.push(i)			}						}		private var a = new Array();		private var b = new Array();		public var effectName:String = null;		public var sequence:Array;		public var speed:Number = 1;		public var trail:int = 1;		public var loops:int = 0;		public var library:Object = new Object();		public var effects:Array = new Array();	}}